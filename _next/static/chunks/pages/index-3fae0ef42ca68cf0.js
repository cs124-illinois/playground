(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4423:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6440)}])},6440:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return f}});var i=t(5156),r=t.n(i),o=t(4246),a=t(2547),u=t(6695),s=t(5218),l=t(7378);function c(n,e,t,i,r,o,a){try{var u=n[o](a),s=u.value}catch(l){return void t(l)}u.done?e(s):Promise.resolve(s).then(i,r)}var d=(0,s.default)((function(){return Promise.all([t.e(90),t.e(329)]).then(t.bind(t,2329))}),{loadableGenerated:{webpack:function(){return[2329]},modules:["index.tsx -> react-ace"]},ssr:!1}),h={python:'print("Hello, Python!")',cpp:'\n#include <iostream>\nint main() {\n  std::cout << "Hello, CPP!\\n";\n  return 0;\n}'.trim(),haskell:'\nmain = putStrLn "Hello, Haskell!"\n  '.trim(),java:'\npublic class Main {\n  public static void main(String[] unused) {\n    System.out.println("Hello, Java!");\n  }\n}\n  '.trim(),julia:'print("Hello, Julia!")',r:'cat("Hello, R!")',c:'#include <stdio.h>\nint main () {\n  printf("Hello, C!\\n");\n  return 0;\n}\n',go:'\npackage main\nimport "fmt"\nfunc main() {\n  fmt.Println("Hello, Go!")\n}\n'.trim(),rust:'\nfn main() {\n  println!("Hello, Rust!");\n}\n'.trim(),kotlin:'\nfun main() {\n  println("Hello, Kotlin!")\n}\n'.trim(),scala3:'\nobject Main {\n  def main(args: Array[String]) = {\n    println("Hello, Scala!")\n  }\n}\n'.trim()},p={python:"main.py",cpp:"main.cpp",haskell:"main.hs",java:"Main.java",julia:"main.jl",r:"main.R",c:"main.c",go:"main.go",rust:"main.rs",kotlin:"Main.kt",scala3:"Main.sc"},m=function(){var n=(0,u.useGoogleLogin)(),e=n.isSignedIn,t=n.auth;return n.ready?(0,o.jsx)("button",{onClick:function(){return e?null===t||void 0===t?void 0:t.signOut():null===t||void 0===t?void 0:t.signIn()},children:e?"Signout":"Signin"}):null},v=function(){var n,e=(0,l.useState)(""),t=e[0],i=e[1],u=(0,l.useState)("python"),s=u[0],m=u[1],v=(0,l.useState)(),f=v[0],g=v[1],j=(0,a.usePlayground)().run,x=(0,l.useRef)(),y=(0,l.useState)(!1),b=y[0],S=y[1],P=(0,l.useCallback)((n=r().mark((function n(){var e,t,i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(x.current){n.next=2;break}return n.abrupt("return");case 2:if(""!==(e=x.current.getValue()).trim()){n.next=6;break}return g(void 0),n.abrupt("return");case 6:return t=p[s],i={image:"cs124/playground-runner-".concat(s),filesystem:[{path:t,contents:e}],timeout:8e3},n.prev=8,S(!0),n.next=12,j(i,!0);case 12:(o=n.sent).timedOut?g({error:"Timeout"}):g({result:o}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(8),g({error:n.t0.toString()});case 19:return n.prev=19,S(!1),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[8,16,19,22]])})),function(){var e=this,t=arguments;return new Promise((function(i,r){var o=n.apply(e,t);function a(n){c(o,i,r,a,u,"next",n)}function u(n){c(o,i,r,a,u,"throw",n)}a(void 0)}))}),[s,j]),k=(0,l.useMemo)((function(){var n;return(null===f||void 0===f?void 0:f.error)||(null===f||void 0===f||null===(n=f.result)||void 0===n?void 0:n.outputLines.map((function(n){return n.line})).join("\n"))||""}),[f]),C=(0,l.useMemo)((function(){return[{name:"gotoline",exec:function(){return!1},bindKey:{win:"",mac:""}},{name:"run",bindKey:{win:"Ctrl-Enter",mac:"Ctrl-Enter"},exec:function(){return P()},readOnly:!0},{name:"close",bindKey:{win:"Esc",mac:"Esc"},exec:function(){return g(void 0)},readOnly:!0}]}),[P]);return(0,l.useEffect)((function(){C.forEach((function(n){var e;x.current&&(null===(e=x.current)||void 0===e||e.commands.addCommand(n))}))}),[C]),(0,l.useEffect)((function(){var n;i(null!==(n=h[s])&&void 0!==n?n:""),g(void 0)}),[s]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{mode:s,theme:"github",width:"100%",height:"16rem",minLines:16,maxLines:1/0,value:t,showPrintMargin:!1,onBeforeLoad:function(n){n.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@".concat(n.version,"/src-min-noconflict"))},onLoad:function(n){x.current=n},onChange:i,commands:C,setOptions:{tabSize:2}}),(0,o.jsxs)("div",{style:{marginTop:8},children:[(0,o.jsx)("button",{onClick:function(){P()},style:{marginRight:8},children:"Run"}),(0,o.jsx)("div",{style:{float:"right"},children:(0,o.jsxs)("select",{id:"language",onChange:function(n){return m(n.target.value)},value:s,children:[(0,o.jsx)("option",{value:"c",children:"C"}),(0,o.jsx)("option",{value:"cpp",children:"C++"}),(0,o.jsx)("option",{value:"go",children:"Go"}),(0,o.jsx)("option",{value:"haskell",children:"Haskell"}),(0,o.jsx)("option",{value:"java",children:"Java"}),(0,o.jsx)("option",{value:"julia",children:"Julia"}),(0,o.jsx)("option",{value:"kotlin",children:"Kotlin"}),(0,o.jsx)("option",{value:"r",children:"R"}),(0,o.jsx)("option",{value:"rust",children:"Rust"}),(0,o.jsx)("option",{value:"scala3",children:"Scala 3"}),(0,o.jsx)("option",{value:"python",children:"Python"})]})})]}),(0,o.jsx)("div",{className:"output",children:b?(0,o.jsx)("span",{children:"Running..."}):void 0!==k?(0,o.jsx)("span",{children:k}):(0,o.jsx)("span",{})}),(null===f||void 0===f?void 0:f.result)&&(0,o.jsx)(d,{readOnly:!0,theme:"github",mode:"json",height:"32rem",value:JSON.stringify(f.result,null,2)})]})};function f(){return(0,o.jsx)(u.GoogleLoginProvider,{clientConfig:{client_id:"948918026196-q49uid1opmf7oid570ptpl7kd1alcjru.apps.googleusercontent.com"},children:(0,o.jsx)(u.WithGoogleTokens,{children:function(n){var e=n.idToken;return(0,o.jsxs)(a.PlaygroundProvider,{googleToken:e,server:"https://cloud.cs124.org/playground",children:[(0,o.jsx)("h1",{children:(0,o.jsx)("kbd",{children:"playground"})}),(0,o.jsxs)("p",{children:["Visit the ",(0,o.jsx)("a",{href:"https://github.com/cs124-illinois/playground",children:"project homepage"})]}),(0,o.jsx)("h2",{children:"Playground Demo"}),(0,o.jsx)("div",{style:{marginBottom:8},children:(0,o.jsx)(m,{})}),(0,o.jsx)(v,{})]})}})})}},2547:function(n,e,t){var i=this&&this.__createBinding||(Object.create?function(n,e,t,i){void 0===i&&(i=t),Object.defineProperty(n,i,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,i){void 0===i&&(i=t),n[i]=e[t]}),r=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),o=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var t in n)"default"!==t&&Object.prototype.hasOwnProperty.call(n,t)&&i(e,n,t);return r(e,n),e},a=this&&this.__awaiter||function(n,e,t,i){return new(t||(t=Promise))((function(r,o){function a(n){try{s(i.next(n))}catch(e){o(e)}}function u(n){try{s(i.throw(n))}catch(e){o(e)}}function s(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,u)}s((i=i.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.PlaygroundContext=e.usePlayground=e.PlaygroundProvider=void 0;const u=t(8741),s=o(t(7378));e.PlaygroundProvider=({googleToken:n,server:t,children:i})=>{const[r,o]=(0,s.useState)(void 0);(0,s.useEffect)((()=>{fetch(t).then((n=>n.json())).then((n=>o(n.status))).catch((()=>o(void 0)))}),[t]);const l=(0,s.useCallback)(((e,i=!1)=>a(this,void 0,void 0,(function*(){e=i?u.Submission.check(e):e;const r=yield fetch(t,{method:"post",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},n&&{"google-token":n})}).then((n=>a(this,void 0,void 0,(function*(){if(200===n.status){const e=yield n.json();return o(e.status),e}throw yield n.text()})))).catch((n=>{throw o(void 0),n}));return i?u.Result.check(r):r}))),[n,t]);return s.default.createElement(e.PlaygroundContext.Provider,{value:{available:!0,status:r,connected:void 0!==r,run:l}},i)};e.usePlayground=()=>(0,s.useContext)(e.PlaygroundContext),e.PlaygroundContext=s.default.createContext({available:!1,connected:!1,status:void 0,run:()=>{throw new Error("Playground context not available")}})},8741:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Status=e.Result=e.Timings=e.Submission=e.FakeFile=e.OutputLine=e.Console=void 0;const i=t(4690);e.Console=(0,i.Union)((0,i.Literal)("STDOUT"),(0,i.Literal)("STDERR")),e.OutputLine=(0,i.Record)({console:e.Console,timestamp:i.String.withConstraint((n=>!isNaN(Date.parse(n)))),line:i.String}),e.FakeFile=(0,i.Record)({path:i.String,contents:i.String}),e.Submission=(0,i.Record)({image:i.String,timeout:i.Number}).And((0,i.Partial)({filesystem:(0,i.Array)(e.FakeFile)})),e.Timings=(0,i.Record)({started:i.String.withConstraint((n=>!isNaN(Date.parse(n)))),tempCreated:i.String.withConstraint((n=>!isNaN(Date.parse(n)))),imagePulled:i.String.withConstraint((n=>!isNaN(Date.parse(n)))),containerStarted:i.String.withConstraint((n=>!isNaN(Date.parse(n))))}).And((0,i.Partial)({executionStarted:i.String.withConstraint((n=>!isNaN(Date.parse(n)))),completed:i.String.withConstraint((n=>!isNaN(Date.parse(n))))})),e.Result=(0,i.Record)({outputLines:(0,i.Array)(e.OutputLine),timeout:i.Number,timedOut:i.Boolean,exitValue:i.Number,timings:e.Timings}),e.Status=(0,i.Record)({started:i.String.withConstraint((n=>!isNaN(Date.parse(n)))),version:i.String})}},function(n){n.O(0,[774,455,888,179],(function(){return e=4423,n(n.s=e);var e}));var e=n.O();_N_E=e}]);