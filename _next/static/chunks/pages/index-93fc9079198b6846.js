(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9536:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5979)}])},5979:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p}});var i=t(4246),r=t(2547),o=t(6695),a=t(5218),l=t.n(a),s=t(7378);let u=l()(()=>Promise.all([t.e(90),t.e(329)]).then(t.bind(t,2329)),{loadableGenerated:{webpack:()=>[2329]},ssr:!1}),c={python:'print("Hello, Python!")',cpp:'\n#include <iostream>\nint main() {\n  std::cout << "Hello, CPP!\\n";\n  return 0;\n}'.trim(),haskell:'\nmain = putStrLn "Hello, Haskell!"\n  '.trim(),java:'\npublic class Main {\n  public static void main(String[] unused) {\n    System.out.println("Hello, Java!");\n  }\n}\n  '.trim(),julia:'print("Hello, Julia!")',r:'cat("Hello, R!")',c:'#include <stdio.h>\nint main (void) {\n  printf("Hello, C!\\n");\n  return 0;\n}\n',go:'\npackage main\nimport "fmt"\nfunc main() {\n  fmt.Println("Hello, Go!")\n}\n'.trim(),rust:'\nfn main() {\n  println!("Hello, Rust!");\n}\n'.trim(),kotlin:'\nfun main() {\n  println("Hello, Kotlin!")\n}\n'.trim(),scala3:'\nobject Main {\n  def main(args: Array[String]) = {\n    println("Hello, Scala!")\n  }\n}\n'.trim()},d={python:"main.py",cpp:"main.cpp",haskell:"main.hs",java:"Main.java",julia:"main.jl",r:"main.R",c:"main.c",go:"main.go",rust:"main.rs",kotlin:"Main.kt",scala3:"Main.sc"},h=()=>{let{isSignedIn:n,auth:e,ready:t}=(0,o.useGoogleLogin)();return t?(0,i.jsx)("button",{onClick:()=>n?null==e?void 0:e.signOut():null==e?void 0:e.signIn(),children:n?"Signout":"Signin"}):null},m=()=>{let[n,e]=(0,s.useState)(""),[t,o]=(0,s.useState)("python"),[a,l]=(0,s.useState)(),{run:h}=(0,r.usePlayground)(),m=(0,s.useRef)(),[p,g]=(0,s.useState)(!1),v=(0,s.useCallback)(async()=>{if(!m.current)return;let n=m.current.getValue();if(""===n.trim()){l(void 0);return}let e=d[t];try{g(!0);let i=await h({image:"cs124/playground-runner-".concat(t),filesystem:[{path:e,contents:n}],timeout:8e3},!0);i.timedOut?l({error:"Timeout"}):l({result:i})}catch(r){l({error:r.toString()})}finally{g(!1)}},[t,h]),f=(0,s.useMemo)(()=>{var n;return(null==a?void 0:a.error)||(null==a?void 0:null===(n=a.result)||void 0===n?void 0:n.outputLines.map(n=>{let{line:e}=n;return e}).join("\n"))||""},[a]),j=(0,s.useMemo)(()=>[{name:"gotoline",exec:()=>!1,bindKey:{win:"",mac:""}},{name:"run",bindKey:{win:"Ctrl-Enter",mac:"Ctrl-Enter"},exec:()=>v(),readOnly:!0},{name:"close",bindKey:{win:"Esc",mac:"Esc"},exec:()=>l(void 0),readOnly:!0}],[v]);return(0,s.useEffect)(()=>{j.forEach(n=>{var e;m.current&&(null===(e=m.current)||void 0===e||e.commands.addCommand(n))})},[j]),(0,s.useEffect)(()=>{var n;e(null!==(n=c[t])&&void 0!==n?n:""),l(void 0)},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u,{mode:t,theme:"github",width:"100%",height:"16rem",minLines:16,maxLines:1/0,value:n,showPrintMargin:!1,onBeforeLoad:n=>{n.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@".concat(n.version,"/src-min-noconflict"))},onLoad:n=>{m.current=n},onChange:e,commands:j,setOptions:{tabSize:2}}),(0,i.jsxs)("div",{style:{marginTop:8},children:[(0,i.jsx)("button",{onClick:()=>{v()},style:{marginRight:8},children:"Run"}),(0,i.jsx)("div",{style:{float:"right"},children:(0,i.jsxs)("select",{id:"language",onChange:n=>o(n.target.value),value:t,children:[(0,i.jsx)("option",{value:"c",children:"C"}),(0,i.jsx)("option",{value:"cpp",children:"C++"}),(0,i.jsx)("option",{value:"go",children:"Go"}),(0,i.jsx)("option",{value:"haskell",children:"Haskell"}),(0,i.jsx)("option",{value:"java",children:"Java"}),(0,i.jsx)("option",{value:"julia",children:"Julia"}),(0,i.jsx)("option",{value:"kotlin",children:"Kotlin"}),(0,i.jsx)("option",{value:"r",children:"R"}),(0,i.jsx)("option",{value:"rust",children:"Rust"}),(0,i.jsx)("option",{value:"scala3",children:"Scala 3"}),(0,i.jsx)("option",{value:"python",children:"Python"})]})})]}),(0,i.jsx)("div",{className:"output",children:p?(0,i.jsx)("span",{children:"Running..."}):void 0!==f?(0,i.jsx)("span",{children:f}):(0,i.jsx)("span",{})}),(null==a?void 0:a.result)&&(0,i.jsx)(u,{readOnly:!0,theme:"github",mode:"json",height:"32rem",value:JSON.stringify(a.result,null,2)})]})};function p(){return(0,i.jsx)(o.GoogleLoginProvider,{clientConfig:{client_id:"948918026196-q49uid1opmf7oid570ptpl7kd1alcjru.apps.googleusercontent.com"},children:(0,i.jsx)(o.WithGoogleTokens,{children:n=>{let{idToken:e}=n;return(0,i.jsxs)(r.PlaygroundProvider,{googleToken:e,server:"https://cloud.cs124.org/playground",children:[(0,i.jsx)("h1",{children:(0,i.jsx)("kbd",{children:"playground"})}),(0,i.jsxs)("p",{children:["Visit the ",(0,i.jsx)("a",{href:"https://github.com/cs124-illinois/playground",children:"project homepage"})]}),(0,i.jsx)("h2",{children:"Playground Demo"}),(0,i.jsx)("div",{style:{marginBottom:8},children:(0,i.jsx)(h,{})}),(0,i.jsx)(m,{})]})}})})}},2547:function(n,e,t){var i=this&&this.__createBinding||(Object.create?function(n,e,t,i){void 0===i&&(i=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,i,r)}:function(n,e,t,i){void 0===i&&(i=t),n[i]=e[t]}),r=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),o=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var t in n)"default"!==t&&Object.prototype.hasOwnProperty.call(n,t)&&i(e,n,t);return r(e,n),e},a=this&&this.__awaiter||function(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(n){try{s(i.next(n))}catch(e){o(e)}}function l(n){try{s(i.throw(n))}catch(e){o(e)}}function s(n){var e;n.done?r(n.value):((e=n.value)instanceof t?e:new t(function(n){n(e)})).then(a,l)}s((i=i.apply(n,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.PlaygroundContext=e.usePlayground=e.PlaygroundProvider=void 0;let l=t(8741),s=o(t(7378)),u=({googleToken:n,server:t,children:i})=>{let[r,o]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{fetch(t).then(n=>n.json()).then(n=>o(n.status)).catch(()=>o(void 0))},[t]);let u=(0,s.useCallback)((e,i=!1)=>a(this,void 0,void 0,function*(){e=i?l.Submission.check(e):e;let r=yield fetch(t,{method:"post",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},n&&{"google-token":n})}).then(n=>a(this,void 0,void 0,function*(){if(200===n.status){let e=yield n.json();return o(e.status),e}throw yield n.text()})).catch(n=>{throw o(void 0),n});return i?l.Result.check(r):r}),[n,t]);return s.default.createElement(e.PlaygroundContext.Provider,{value:{available:!0,status:r,connected:void 0!==r,run:u}},i)};e.PlaygroundProvider=u;let c=()=>(0,s.useContext)(e.PlaygroundContext);e.usePlayground=c,e.PlaygroundContext=s.default.createContext({available:!1,connected:!1,status:void 0,run:()=>{throw Error("Playground context not available")}})},8741:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Status=e.Result=e.Timings=e.Submission=e.FakeFile=e.OutputLine=e.Console=void 0;let i=t(4690);e.Console=(0,i.Union)((0,i.Literal)("STDOUT"),(0,i.Literal)("STDERR")),e.OutputLine=(0,i.Record)({console:e.Console,timestamp:i.String.withConstraint(n=>!isNaN(Date.parse(n))),line:i.String}),e.FakeFile=(0,i.Record)({path:i.String,contents:i.String}),e.Submission=(0,i.Record)({image:i.String,timeout:i.Number}).And((0,i.Partial)({filesystem:(0,i.Array)(e.FakeFile)})),e.Timings=(0,i.Record)({started:i.String.withConstraint(n=>!isNaN(Date.parse(n))),tempCreated:i.String.withConstraint(n=>!isNaN(Date.parse(n))),imagePulled:i.String.withConstraint(n=>!isNaN(Date.parse(n))),containerStarted:i.String.withConstraint(n=>!isNaN(Date.parse(n)))}).And((0,i.Partial)({executionStarted:i.String.withConstraint(n=>!isNaN(Date.parse(n))),completed:i.String.withConstraint(n=>!isNaN(Date.parse(n)))})),e.Result=(0,i.Record)({outputLines:(0,i.Array)(e.OutputLine),timeout:i.Number,timedOut:i.Boolean,exitValue:i.Number,timings:e.Timings}),e.Status=(0,i.Record)({started:i.String.withConstraint(n=>!isNaN(Date.parse(n))),version:i.String})}},function(n){n.O(0,[455,774,888,179],function(){return n(n.s=9536)}),_N_E=n.O()}]);